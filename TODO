BUG Fixes:
 - fix all XXX:

Reliablity:
 - Make sure all exception were trapped (all errno are covered)
 - Be more verbose for reactor exception trapped
 - if a remote end / client does not respect connection-close, use time to kill it anyway
 - make sure we notice when a worker exit

RFC Compliance
 - Add a VIA header to the answer from the server
 - Need to serve a HTTP/1.0 via the built-in webserver if the request is 1.0
 - Need to remove connection: header if HTTP is 1/0
 - Not caching so no version update required for us (Section 3.1)
 - Need to reply 417 when 100-continue is used (Section 8.2.3)
 - Do not forward 100 response due to Expect:100 if client is HTTP/1.0 (Section 8.2.3)
 - The Expect mechanism is hop-by-hop: that is, an HTTP/1.1 proxy MUST return a 417 (Expectation Failed) status if it receives a request with an expectation that it cannot meet. However, the Expect request-header itself is end-to-end; it MUST be forwarded if the request is forwarded.

DOS Protection
 - limit GET size as a option value (8192 default)

Performance
 - look at python buffer API
 - look at python Array.Array API
 - make sure we do not use string concatenation (perf fixed in 2.7 ?)
 - look at Regex for header parsing performance
 - why pypy takes more CPU than cPython in some cases


Traceback (most recent call last):
  File "app_main.py", line 51, in run_toplevel
  File "/Users/thomas/bin/pypy-1.7/lib-python/2.7/runpy.py", line 162, in _run_module_as_main
  File "/Users/thomas/bin/pypy-1.7/lib-python/2.7/runpy.py", line 72, in _run_code
  File "/Users/thomas/source/hg/exaproxy/lib/exaproxy/util/debug.py", line 72, in <module>
  File "/Users/thomas/source/hg/exaproxy/lib/exaproxy/application.py", line 110, in <module>
  File "/Users/thomas/source/hg/exaproxy/lib/exaproxy/supervisor.py", line 181, in run
  File "/Users/thomas/source/hg/exaproxy/lib/exaproxy/reactor/redirector/manager.py", line 135, in provision
  File "/Users/thomas/source/hg/exaproxy/lib/exaproxy/reactor/redirector/manager.py", line 55, in spawn
  File "/Users/thomas/source/hg/exaproxy/lib/exaproxy/reactor/redirector/manager.py", line 44, in _spawn
  File "/Users/thomas/source/hg/exaproxy/lib/exaproxy/reactor/redirector/worker.py", line 35, in __init__
OSError: [Errno 24] Too many open files

